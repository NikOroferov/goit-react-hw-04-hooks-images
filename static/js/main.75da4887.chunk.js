(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},51:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(18),o=n.n(r),i=(n(25),n(4)),s=(n(26),n(27),n(1));var u=function(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],o=a[1];return Object(s.jsx)("header",{className:"Searchbar",children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):alert("Write your search query")},className:"SearchForm",children:[Object(s.jsx)("input",{className:"SearchForm-input",type:"text",placeholder:"Search images and photos",value:r,name:"value",onChange:function(e){o(e.currentTarget.value.toLowerCase())}}),Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]})})},l=n(9);n(29),n(30);var j=function(e){var t=e.images,n=e.onClick,c=function(e){var t=e.currentTarget.id;n(t)};return t.map((function(e){var t=e.largeImageURL,n=e.id;return Object(s.jsx)("li",{id:n,className:"ImageGalleryItem",onClick:c,children:Object(s.jsx)("img",{src:t,alt:"",className:"ImageGalleryItem-image"})},n)}))};n(31);function b(e){var t=e.value,n=e.onClick;return Object(s.jsx)("button",{type:"button",onClick:n,className:"Button",children:t})}var d=n(19),m=n.n(d),h=function(e,t){return m.a.get("https://pixabay.com/api/",{params:{q:e,key:"22683301-b01030d0df8a1fa2bda925efb",image_type:"photo",orientation:"horizontal",per_page:12,page:t}})};n(51);var f=function(e){var t=e.onClose,n=e.src;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}),[]);var a=function(e){"Escape"===e.code&&t()};return Object(s.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(s.jsx)("div",{className:"Modal",children:Object(s.jsx)("img",{src:n.largeImageURL,alt:""})})})},O=n(20),v=n.n(O),g="idle",p="pending",x="resolve",S="reject";var y=function(e){var t=e.searchValue,n=Object(c.useState)(1),a=Object(i.a)(n,2),r=a[0],o=a[1],u=Object(c.useState)([]),d=Object(i.a)(u,2),m=d[0],O=d[1],y=Object(c.useState)(g),k=Object(i.a)(y,2),w=k[0],N=k[1],C=Object(c.useState)(""),E=Object(i.a)(C,2),I=E[0],L=E[1],F=Object(c.useState)(!1),T=Object(i.a)(F,2),G=T[0],q=T[1];Object(c.useEffect)((function(){""!==t&&(O([]),o(1),N(p),h(t,r).then((function(e){if(0!==e.data.total){var t=e.data.hits;O(t),N(x)}else N(S)})))}),[t]),Object(c.useEffect)((function(){""!==t&&h(t,r).then((function(e){var t=e.data.hits;O((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),N(x)}))}),[r]),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});var B=function(){q((function(e){return!e}))};return w===g?Object(s.jsx)("h2",{children:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441"}):w===p?Object(s.jsx)(v.a,{type:"Oval",color:"#043f53",height:80,width:80}):w===S?Object(s.jsxs)("h2",{children:["\u0418\u043b\u043b\u044e\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ",t," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"]}):w===x?Object(s.jsxs)("div",{className:"content",children:[Object(s.jsx)("ul",{className:"ImageGallery",children:Object(s.jsx)(j,{images:m,onClick:function(e){L(e),B()}})}),Object(s.jsx)(b,{value:"Load more",onClick:function(){o((function(e){return e+1}))}}),G&&Object(s.jsx)(f,{onClose:B,src:m.find((function(e){return e.id===+I}))})]}):void 0};function k(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(u,{onSubmit:function(e){a(e)}}),Object(s.jsx)(y,{searchValue:n})]})}o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(k,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.75da4887.chunk.js.map